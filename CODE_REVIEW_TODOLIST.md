# Zhang Jihao Simulator - ä»£ç å®¡æŸ¥ä¿®å¤æ¸…å•

> åŸºäº Codexï¼ˆæ¶æ„/ç±»å‹/é€»è¾‘ï¼‰å’Œ Geminiï¼ˆå‰ç«¯/UI/åŠ¨æ•ˆï¼‰å®¡æŸ¥ç»“æœç”Ÿæˆ
> ç”Ÿæˆæ—¥æœŸï¼š2026-01-08

---

## ç›®å½•

- [ä¼˜å…ˆçº§è¯´æ˜](#ä¼˜å…ˆçº§è¯´æ˜)
- [å·¥å…·å›¾ä¾‹](#å·¥å…·å›¾ä¾‹)
- [Critical - ä¸¥é‡é—®é¢˜](#critical---ä¸¥é‡é—®é¢˜)
- [Major - é‡è¦é—®é¢˜](#major---é‡è¦é—®é¢˜)
  - [æ¶æ„ä¸ Reducer æ¨¡å¼](#æ¶æ„ä¸-reducer-æ¨¡å¼)
  - [ç±»å‹å®‰å…¨](#ç±»å‹å®‰å…¨)
  - [æ•°æ®éªŒè¯è„šæœ¬](#æ•°æ®éªŒè¯è„šæœ¬)
- [Minor - è½»å¾®é—®é¢˜](#minor---è½»å¾®é—®é¢˜)
- [å‰ç«¯ä¼˜åŒ–å»ºè®®](#å‰ç«¯ä¼˜åŒ–å»ºè®®)
- [é™„å½•ï¼šéªŒè¯å‘½ä»¤](#é™„å½•éªŒè¯å‘½ä»¤)

---

## ä¼˜å…ˆçº§è¯´æ˜

| ä¼˜å…ˆçº§ | å«ä¹‰ | å»ºè®®å¤„ç†æ—¶é—´ |
|--------|------|--------------|
| ğŸ”´ Critical | é˜»å¡æ„å»º/è¿è¡Œæ—¶å´©æºƒ | ç«‹å³ä¿®å¤ |
| ğŸŸ  Major | æ¶æ„ç¼ºé™·/æ½œåœ¨ Bug | æœ¬è¿­ä»£å†…ä¿®å¤ |
| ğŸŸ¡ Minor | ä»£ç è´¨é‡/å¯ç»´æŠ¤æ€§ | ä¸‹æ¬¡é‡æ„æ—¶å¤„ç† |
| ğŸŸ¢ Enhancement | ä¼˜åŒ–å»ºè®® | å¯é€‰å®æ–½ |

---

## å·¥å…·å›¾ä¾‹

| å·¥å…·æ ‡è®° | è¯´æ˜ |
|----------|------|
| `[Edit]` | ä½¿ç”¨ Edit å·¥å…·ä¿®æ”¹ç°æœ‰ä»£ç  |
| `[Write]` | ä½¿ç”¨ Write å·¥å…·åˆ›å»ºæ–°æ–‡ä»¶ |
| `[Read]` | ä½¿ç”¨ Read å·¥å…·é˜…è¯»ç†è§£ä»£ç  |
| `[Bash]` | ä½¿ç”¨ Bash è¿è¡Œå‘½ä»¤ï¼ˆæµ‹è¯•/æ„å»º/lintï¼‰ |
| `[Serena]` | ä½¿ç”¨ Serena ç¬¦å·çº§ç¼–è¾‘/é‡æ„ |
| `[Refactor]` | éœ€è¦å¤šæ–‡ä»¶åè°ƒé‡æ„ |

---

## Critical - ä¸¥é‡é—®é¢˜

### C-01: æµ‹è¯•æ–‡ä»¶ç±»å‹é”™è¯¯ - mockEnding ç¼ºå°‘ rarity
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/__tests__/GameContext.test.tsx:17` |
| **é—®é¢˜** | `mockEnding` å¯¹è±¡ç¼ºå°‘ `Ending.rarity` å¿…å¡«å­—æ®µ |
| **å½±å“** | æ‰§è¡Œ `tsc --noEmit` æˆ– `next build` ä¼šç±»å‹æ£€æŸ¥å¤±è´¥ |
| **å·¥å…·** | `[Read]` `[Edit]` `[Bash]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 1.1 `[Read]` é˜…è¯» `src/types/game.ts` ç¡®è®¤ `Ending` æ¥å£æœ€æ–°å®šä¹‰
- [ ] 1.2 `[Read]` é˜…è¯» `src/contexts/__tests__/GameContext.test.tsx` å®šä½ mockEnding
- [ ] 1.3 `[Edit]` ä¸º mockEnding æ·»åŠ  `rarity: "common"` æˆ–å…¶ä»–æœ‰æ•ˆå€¼
- [ ] 1.4 `[Bash]` è¿è¡Œ `npx tsc --noEmit` éªŒè¯ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] 1.5 `[Bash]` è¿è¡Œ `npm test` ç¡®ä¿æµ‹è¯•ä»ç„¶é€šè¿‡

---

## Major - é‡è¦é—®é¢˜

### æ¶æ„ä¸ Reducer æ¨¡å¼

#### M-01: Reducer å†…è°ƒç”¨å‰¯ä½œç”¨å‡½æ•° clearSave()
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:133` |
| **é—®é¢˜** | `RESET_GAME` action åœ¨ reducer å†…è°ƒç”¨ `clearSave()`ï¼Œç ´åçº¯å‡½æ•°ç‰¹æ€§ |
| **å½±å“** | é™ä½å¯æµ‹è¯•æ€§ã€çŠ¶æ€ä¸å¯å›æ”¾ã€è¿å Redux è®¾è®¡åŸåˆ™ |
| **å·¥å…·** | `[Read]` `[Serena]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 2.1 `[Read]` é˜…è¯» GameContext.tsx ç†è§£å½“å‰ RESET_GAME å®ç°
- [ ] 2.2 `[Serena]` ä½¿ç”¨ find_referencing_symbols æŸ¥æ‰¾æ‰€æœ‰ dispatch RESET_GAME çš„ä½ç½®
- [ ] 2.3 `[Edit]` å°† `clearSave()` è°ƒç”¨ç§»åˆ° Provider çš„ `resetGame` æ–¹æ³•ä¸­ï¼ˆreducer å¤–ï¼‰
- [ ] 2.4 `[Edit]` reducer å†…ä»…ä¿ç•™çŠ¶æ€é‡ç½®é€»è¾‘
- [ ] 2.5 `[Bash]` è¿è¡Œæµ‹è¯•éªŒè¯è¡Œä¸ºä¸å˜

#### M-02: Reducer å†…æ‰§è¡Œéšæœºé€‰åœºï¼ˆSTART_GAMEï¼‰
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:68` |
| **é—®é¢˜** | `START_GAME` åœ¨ reducer å†…è°ƒç”¨ `selectScenesForGame()`ï¼Œå¼•å…¥éç¡®å®šæ€§ |
| **å½±å“** | åŒä¸€ action ä¸å¯å¤ç°ï¼Œæ— æ³•å®ç°æ—¶é—´æ—…è¡Œè°ƒè¯• |
| **å·¥å…·** | `[Read]` `[Serena]` `[Edit]` `[Refactor]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 3.1 `[Read]` é˜…è¯» START_GAME action å’Œ startGame æ–¹æ³•
- [ ] 3.2 `[Edit]` ä¿®æ”¹ `StartGameAction` ç±»å‹ï¼Œæ·»åŠ  `selectedScenes: Scene[]` å­—æ®µ
- [ ] 3.3 `[Edit]` åœ¨ Provider çš„ `startGame` æ–¹æ³•ä¸­è°ƒç”¨ `selectScenesForGame()`
- [ ] 3.4 `[Edit]` å°†é€‰æ‹©ç»“æœé€šè¿‡ action payload ä¼ å…¥ reducer
- [ ] 3.5 `[Edit]` reducer å†…ä»…åšçŠ¶æ€èµ‹å€¼ï¼Œä¸å†è°ƒç”¨éšæœºå‡½æ•°
- [ ] 3.6 `[Bash]` è¿è¡Œæµ‹è¯•éªŒè¯æ¸¸æˆå¯åŠ¨æ­£å¸¸

#### M-03: Reducer å†…æ‰§è¡Œéšæœºé€‰åœºï¼ˆMAKE_CHOICEï¼‰
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:92` |
| **é—®é¢˜** | `MAKE_CHOICE` è°ƒç”¨ `selectNextSceneForInfiniteMode()`ï¼Œå¼•å…¥éç¡®å®šæ€§ |
| **å½±å“** | ä¸ M-02 ç›¸åŒé—®é¢˜ï¼Œä¸”ä¸ ADD_NEXT_SCENE è¯­ä¹‰é‡å¤ |
| **å·¥å…·** | `[Read]` `[Serena]` `[Edit]` `[Refactor]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 4.1 `[Read]` ç†è§£ MAKE_CHOICE å’Œ ADD_NEXT_SCENE çš„å…³ç³»
- [ ] 4.2 `[Edit]` å°†æ— é™æ¨¡å¼åœºæ™¯é€‰æ‹©é€»è¾‘ç§»åˆ° `makeChoice` æ–¹æ³•ä¸­
- [ ] 4.3 `[Edit]` ä½¿ç”¨ `ADD_NEXT_SCENE` action ä¼ é€’æ–°åœºæ™¯
- [ ] 4.4 `[Edit]` MAKE_CHOICE ä»…å¤„ç†å½“å‰é€‰æ‹©çš„çŠ¶æ€æ›´æ–°
- [ ] 4.5 `[Bash]` æµ‹è¯•æ— é™æ¨¡å¼åœºæ™¯åˆ‡æ¢æ­£å¸¸

#### M-04: æ— é™æ¨¡å¼éçœŸæ­£æ— é™
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:93` |
| **é—®é¢˜** | å¼ºåˆ¶å…¨å±€å»é‡ï¼Œæ¸¸æˆé•¿åº¦è¢«é™åˆ¶ä¸ºåœºæ™¯æ± ä¸Šé™ï¼ˆ561åœºæ™¯ï¼‰ |
| **å½±å“** | "æ— é™æ¨¡å¼"åä¸å‰¯å®ï¼Œé•¿æ—¶é—´æ¸¸æˆä¼šè€—å°½åœºæ™¯ |
| **å·¥å…·** | `[Read]` `[Edit]` `[Refactor]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 5.1 `[Read]` ç†è§£å½“å‰å»é‡é€»è¾‘å’Œ sceneHistory ç»“æ„
- [ ] 5.2 `[Edit]` å®ç°æ»‘åŠ¨çª—å£ç­–ç•¥ï¼šä»…é¿å…æœ€è¿‘ N ä¸ªåœºæ™¯é‡å¤
- [ ] 5.3 `[Edit]` æˆ–å®ç°æƒé‡è¡°å‡ï¼šå·²ç©åœºæ™¯æƒé‡é™ä½ä½†ä¸æ’é™¤
- [ ] 5.4 `[Bash]` æµ‹è¯•é•¿æ—¶é—´æ¸¸æˆï¼ˆ>100å›åˆï¼‰ä¸ä¼šå¡ä½

---

### ç±»å‹å®‰å…¨

#### M-05: JSON.parse æ— è¿è¡Œæ—¶éªŒè¯
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/lib/saveManager.ts:32` |
| **é—®é¢˜** | `JSON.parse(saved) as SavedGame` ä»…æµ…å±‚æ ¡éªŒ |
| **å½±å“** | æ—§ç‰ˆæœ¬/æŸåå­˜æ¡£å¯èƒ½å¯¼è‡´è¿è¡Œæ—¶å¼‚å¸¸ |
| **å·¥å…·** | `[Read]` `[Edit]` `[Write]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 6.1 `[Read]` é˜…è¯» saveManager.ts å’Œ SavedGame ç±»å‹
- [ ] 6.2 `[Write]` åˆ›å»º `src/lib/validators.ts` æˆ–åœ¨ saveManager ä¸­æ·»åŠ éªŒè¯å‡½æ•°
- [ ] 6.3 `[Edit]` å®ç° `validateSavedGame(data: unknown): SavedGame | null`
- [ ] 6.4 `[Edit]` éªŒè¯ state.statsã€state.flags ç­‰æ·±å±‚å­—æ®µå­˜åœ¨ä¸”ç±»å‹æ­£ç¡®
- [ ] 6.5 `[Edit]` loadGame å¤±è´¥æ—¶è¿”å› null å¹¶æ¸…é™¤æŸåå­˜æ¡£
- [ ] 6.6 `[Bash]` å•å…ƒæµ‹è¯•éªŒè¯æŸåæ•°æ®å¤„ç†

#### M-06: åœºæ™¯/ç»“å±€ JSON å¼ºåˆ¶ç±»å‹æ–­è¨€
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/app/game/page.tsx:28,40,42` |
| **é—®é¢˜** | å°† JSON æ–­è¨€ä¸º `Scene[]` / `Ending[]`ï¼Œç»•è¿‡ç¼–è¯‘æœŸæ ¡éªŒ |
| **å½±å“** | æ•°æ®ç»“æ„å˜æ›´æ—¶é—®é¢˜æ¨è¿Ÿåˆ°è¿è¡Œæ—¶æš´éœ² |
| **å·¥å…·** | `[Read]` `[Edit]` `[Bash]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 7.1 `[Read]` é˜…è¯» game/page.tsx çš„æ•°æ®å¯¼å…¥æ–¹å¼
- [ ] 7.2 `[Edit]` ä½¿ç”¨ `satisfies` å…³é”®å­—æ›¿ä»£ `as`ï¼š`endingsData satisfies Ending[]`
- [ ] 7.3 `[Edit]` æˆ–åœ¨æ•°æ®æ–‡ä»¶æ·»åŠ  TypeScript å£°æ˜
- [ ] 7.4 `[Bash]` è¿è¡Œ `npx tsc --noEmit` éªŒè¯ç±»å‹

---

### æ•°æ®éªŒè¯è„šæœ¬

#### M-07: validate-data.ts ä¸æ”¯æŒ FlagEffect
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `scripts/validate-data.ts:52` |
| **é—®é¢˜** | ä»…æŒ‰ `{stat,change}` æ ¡éªŒ effectsï¼Œé‡åˆ° `setFlag/clearFlag` ä¼šè¯¯æŠ¥ |
| **å½±å“** | è¿è¡Œ `npm run validate:data` ä¼šé”™è¯¯åœ°æŠ¥å‘Šæœ‰æ•ˆæ•°æ®ä¸ºæ— æ•ˆ |
| **å·¥å…·** | `[Read]` `[Edit]` `[Bash]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 8.1 `[Read]` é˜…è¯» validate-data.ts çš„ effect æ ¡éªŒé€»è¾‘
- [ ] 8.2 `[Read]` é˜…è¯» `src/types/game.ts` ç¡®è®¤ ChoiceEffect è”åˆç±»å‹
- [ ] 8.3 `[Edit]` æ·»åŠ å¯¹ `FlagEffect { type: 'setFlag'|'clearFlag', flag: string }` çš„æ”¯æŒ
- [ ] 8.4 `[Bash]` è¿è¡Œ `npm run validate:data` éªŒè¯é€šè¿‡

#### M-08: validate-data.ts ä¸æ”¯æŒ FlagCondition
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `scripts/validate-data.ts:93` |
| **é—®é¢˜** | ä»…æŒ‰ `{stat,operator,value}` æ ¡éªŒæ¡ä»¶ï¼Œé‡åˆ° `hasFlag/notFlag` ä¼šè¯¯æŠ¥ |
| **å½±å“** | åŒ M-07 |
| **å·¥å…·** | `[Read]` `[Edit]` `[Bash]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 9.1 `[Read]` é˜…è¯» validate-data.ts çš„ condition æ ¡éªŒé€»è¾‘
- [ ] 9.2 `[Edit]` æ·»åŠ å¯¹ `FlagCondition { flag: string, operator: 'hasFlag'|'notFlag' }` çš„æ”¯æŒ
- [ ] 9.3 `[Bash]` è¿è¡Œ `npm run validate:data` éªŒè¯é€šè¿‡

#### M-09: VALID_ENDING_TYPES åŒ…å«è¿‡æ—¶çš„ 'rare'
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `scripts/validate-data.ts:41` |
| **é—®é¢˜** | å¸¸é‡ä»åŒ…å« `rare`ï¼Œä¸å½“å‰ `EndingType` å®šä¹‰ä¸ä¸€è‡´ |
| **å½±å“** | å·¥å…·é“¾ä¸ç±»å‹ç³»ç»Ÿæ¼‚ç§»ï¼Œç»´æŠ¤æ··ä¹± |
| **å·¥å…·** | `[Read]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 10.1 `[Read]` ç¡®è®¤ `src/types/game.ts` ä¸­ EndingType çš„å½“å‰å®šä¹‰
- [ ] 10.2 `[Edit]` æ›´æ–° VALID_ENDING_TYPES ç§»é™¤ 'rare'ï¼Œä¿æŒä¸ç±»å‹åŒæ­¥
- [ ] 10.3 `[Bash]` è¿è¡Œ `npm run validate:data` éªŒè¯

---

## Minor - è½»å¾®é—®é¢˜

### N-01: danger-zone è¿”å› reason å‘½åä¸ä¸€è‡´
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/lib/endingCalculator.ts:90` |
| **é—®é¢˜** | danger-zone åˆ†æ”¯è¿”å› `reason: "critical_stat"` è€Œé `"danger_zone"` |
| **å·¥å…·** | `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 11.1 `[Edit]` å°† reason æ”¹ä¸º `"danger_zone"` æˆ–æ›´å‡†ç¡®çš„å‘½å
- [ ] 11.2 `[Serena]` æŸ¥æ‰¾æ‰€æœ‰ä½¿ç”¨æ­¤ reason çš„ä½ç½®ï¼Œç¡®ä¿ UI é€‚é…

---

### N-02: sceneSelector fallback æœªå¤„ç†ç©ºæ•°ç»„è¾¹ç•Œ
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/lib/sceneSelector.ts:152` |
| **é—®é¢˜** | `allScenes.length === 0` æ—¶ fallback è¿”å› undefined |
| **å·¥å…·** | `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 12.1 `[Edit]` æ·»åŠ ç©ºæ•°ç»„æ£€æŸ¥ï¼ŒæŠ›å‡ºæ˜ç¡®é”™è¯¯æˆ–è¿”å› null
- [ ] 12.2 `[Edit]` è°ƒç”¨æ–¹æ·»åŠ ç›¸åº”å¤„ç†

---

### N-03: START_GAME action æºå¸¦æœªä½¿ç”¨çš„ endings
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:25` |
| **é—®é¢˜** | action payload åŒ…å« endings ä½† reducer æœªä½¿ç”¨ |
| **å·¥å…·** | `[Serena]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 13.1 `[Serena]` ç¡®è®¤ endings ç¡®å®æœªåœ¨ reducer ä¸­ä½¿ç”¨
- [ ] 13.2 `[Edit]` ä» StartGameAction ç±»å‹ä¸­ç§»é™¤ endings
- [ ] 13.3 `[Edit]` æ›´æ–° dispatch è°ƒç”¨å¤„

---

### N-04: initialState ä¸ initGame å­—æ®µé‡å¤
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:47` |
| **é—®é¢˜** | ä¸¤å¤„å®šä¹‰åˆå§‹çŠ¶æ€ï¼Œåç»­æ¼”è¿›å®¹æ˜“æ¼‚ç§»ï¼ˆDRY è¿è§„ï¼‰ |
| **å·¥å…·** | `[Read]` `[Edit]` `[Refactor]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 14.1 `[Read]` å¯¹æ¯” initialState å’Œ initGame è¿”å›å€¼
- [ ] 14.2 `[Edit]` ç»Ÿä¸€åˆå§‹çŠ¶æ€æ¥æºï¼Œä½¿ç”¨å•ä¸€çœŸç›¸æº

---

### N-05: RESTORE_SAVE ä½¿ç”¨ || è€Œé ??
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/contexts/GameContext.tsx:141` |
| **é—®é¢˜** | `turnCount || 0` ä¼šæŠŠåˆæ³•çš„ `0` å½“ä½œç¼ºçœå€¼å¤„ç† |
| **å·¥å…·** | `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 15.1 `[Edit]` å°† `||` æ›¿æ¢ä¸º `??`ï¼ˆnullish coalescingï¼‰

---

### N-06: gameEngine æ³¨é‡Šä¸é€»è¾‘ä¸åŒ¹é…
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/lib/gameEngine.ts:58` |
| **é—®é¢˜** | æ³¨é‡Šè¯´ "billiards has no critical threshold" ä½†å®é™…æ˜¯è·³è¿‡ danger check |
| **å·¥å…·** | `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 16.1 `[Edit]` æ›´æ–°æ³¨é‡Šä½¿å…¶å‡†ç¡®æè¿°å®é™…é€»è¾‘

---

## å‰ç«¯ä¼˜åŒ–å»ºè®®

### E-01: DynamicBackground mousemove æ€§èƒ½ä¼˜åŒ–
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/components/DynamicBackground.tsx` |
| **é—®é¢˜** | mousemove äº‹ä»¶ç›´æ¥æ›´æ–° stateï¼Œé«˜åˆ·æ–°ç‡ä¸‹å¯èƒ½å¡é¡¿ |
| **å·¥å…·** | `[Read]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 17.1 `[Read]` é˜…è¯»å½“å‰ mousemove å¤„ç†é€»è¾‘
- [ ] 17.2 `[Edit]` ä½¿ç”¨ `requestAnimationFrame` æˆ– `throttle` åŒ…è£… handler
- [ ] 17.3 `[Bash]` åœ¨ä½ç«¯è®¾å¤‡ä¸Šæµ‹è¯•æ€§èƒ½

---

### E-02: StatsBar æ¸å˜é€»è¾‘é‡æ„
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/components/StatsBar.tsx` |
| **é—®é¢˜** | æ¡ä»¶æ¸å˜é€»è¾‘å¤æ‚ï¼ŒåµŒå…¥ JSX ä¸­éš¾ä»¥ç»´æŠ¤ |
| **å·¥å…·** | `[Read]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 18.1 `[Read]` é˜…è¯»å½“å‰æ¸å˜è®¡ç®—é€»è¾‘
- [ ] 18.2 `[Edit]` æŠ½å–ä¸º `getStatBarStyle(value: number, color: string)` è¾…åŠ©å‡½æ•°
- [ ] 18.3 `[Edit]` JSX ä¸­è°ƒç”¨è¾…åŠ©å‡½æ•°

---

### E-03: ClickFeedback è‡ªå®šä¹‰äº¤äº’å…ƒç´ æ”¯æŒ
| å±æ€§ | å€¼ |
|------|-----|
| **æ–‡ä»¶** | `src/components/ClickFeedback.tsx` |
| **é—®é¢˜** | ä»…æ£€æŸ¥ `tagName === 'BUTTON'` ç­‰ï¼Œè‡ªå®šä¹‰äº¤äº’å…ƒç´ éœ€ `role="button"` |
| **å·¥å…·** | `[Read]` `[Edit]` |

**ä¿®å¤æ­¥éª¤ï¼š**
- [ ] 19.1 `[Read]` é˜…è¯»å½“å‰äº¤äº’å…ƒç´ æ£€æµ‹é€»è¾‘
- [ ] 19.2 `[Edit]` æ·»åŠ å¯¹ `role="button"` ç­‰ ARIA è§’è‰²çš„æ”¯æŒ
- [ ] 19.3 `[Serena]` æŸ¥æ‰¾æ‰€æœ‰å……å½“æŒ‰é’®çš„è‡ªå®šä¹‰å…ƒç´ ï¼Œæ·»åŠ ç›¸åº” role

---

## é™„å½•ï¼šéªŒè¯å‘½ä»¤

```bash
# ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# è¿è¡Œæµ‹è¯•
npm test

# æ•°æ®éªŒè¯
npm run validate:data

# æ„å»ºæ£€æŸ¥
npm run build

# Lint æ£€æŸ¥
npm run lint
```

---

## è¿›åº¦è¿½è¸ª

| ç±»åˆ« | æ€»æ•° | å·²å®Œæˆ | è¿›åº¦ |
|------|------|--------|------|
| Critical | 1 | 0 | 0% |
| Major | 9 | 0 | 0% |
| Minor | 6 | 0 | 0% |
| Enhancement | 3 | 0 | 0% |
| **æ€»è®¡** | **19** | **0** | **0%** |

---

*æ­¤æ–‡æ¡£ç”± Codex + Gemini ä»£ç å®¡æŸ¥è‡ªåŠ¨ç”Ÿæˆ*
